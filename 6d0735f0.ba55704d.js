(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{100:function(e,n,t){"use strict";var a=t(0),r=t(101);n.a=function(){const e=Object(a.useContext)(r.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},101:function(e,n,t){"use strict";var a=t(0);const r=Object(a.createContext)(void 0);n.a=r},108:function(e,n,t){"use strict";var a=t(0),r=t.n(a),c=t(100),i=t(92),l=t(54),o=t.n(l);const s=37,u=39;n.a=function(e){const{lazy:n,block:t,defaultValue:l,values:b,groupId:p,className:d}=e,{tabGroupChoices:h,setTabGroupChoices:m}=Object(c.a)(),[O,g]=Object(a.useState)(l),f=a.Children.toArray(e.children);if(null!=p){const e=h[p];null!=e&&e!==O&&b.some((n=>n.value===e))&&g(e)}const j=e=>{g(e),null!=p&&m(p,e)},v=[];return r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(i.a)("tabs",{"tabs--block":t},d)},b.map((({value:e,label:n})=>r.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":O===e,className:Object(i.a)("tabs__item",o.a.tabItem,{"tabs__item--active":O===e}),key:e,ref:e=>v.push(e),onKeyDown:e=>{((e,n,t)=>{switch(t.keyCode){case u:((e,n)=>{const t=e.indexOf(n)+1;e[t]?e[t].focus():e[0].focus()})(e,n);break;case s:((e,n)=>{const t=e.indexOf(n)-1;e[t]?e[t].focus():e[e.length-1].focus()})(e,n)}})(v,e.target,e)},onFocus:()=>j(e),onClick:()=>{j(e)}},n)))),n?Object(a.cloneElement)(f.filter((e=>e.props.value===O))[0],{className:"margin-vert--md"}):r.a.createElement("div",{className:"margin-vert--md"},f.map(((e,n)=>Object(a.cloneElement)(e,{key:n,hidden:e.props.value!==O})))))}},109:function(e,n,t){"use strict";var a=t(3),r=t(0),c=t.n(r);n.a=function({children:e,hidden:n,className:t}){return c.a.createElement("div",Object(a.a)({role:"tabpanel"},{hidden:n,className:t}),e)}},75:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return u})),t.d(n,"metadata",(function(){return b})),t.d(n,"toc",(function(){return p})),t.d(n,"Player",(function(){return d})),t.d(n,"default",(function(){return m}));var a,r=t(3),c=t(7),i=t(0),l=t(93),o=t(108),s=t(109),u=(t(76),{title:"Creating a Channel"}),b={unversionedId:"guide/create-channel",id:"guide/create-channel",isDocsHomePage:!1,title:"Creating a Channel",description:'import "vimond-replay/index.css";',source:"@site/docs/guide/create-channel.mdx",slug:"/guide/create-channel",permalink:"/docs/guide/create-channel",editUrl:"https://github.com/istreamlabs/docs-portal/edit/main/docs/guide/create-channel.mdx",version:"current",sidebar:"someSidebar",previous:{title:"Choosing a Client",permalink:"/docs/guide/client"},next:{title:"Channel Operations",permalink:"/docs/guide/channel-ops"}},p=[{value:"Choosing a Source",id:"choosing-a-source",children:[]},{value:"Creating a Channel",id:"creating-a-channel",children:[]},{value:"Viewing the Channel",id:"viewing-the-channel",children:[]},{value:"Customizing Channel Settings",id:"customizing-channel-settings",children:[]},{value:"Deleting a Channel",id:"deleting-a-channel",children:[]}],d=function(){var e=Object(i.useState)(""),n=e[0],a=e[1],r=Object(i.useState)(""),c=r[0],o=r[1],s=Object(i.useState)(null),u=s[0],b=s[1];if(Object(i.useEffect)((function(){t.e(19).then(t.t.bind(null,185,7)).then((function(e){b(e)}))}),[]),!u)return Object(l.b)("div",null);var p=u&&u.Replay;return Object(l.b)("div",null,Object(l.b)("div",{style:{width:"100%"}},Object(l.b)("input",{className:"input",placeholder:"Enter playback URL",value:n,onChange:function(e){a(e.target.value)},onKeyDown:function(e){"Enter"==e.key&&o(n)},style:{width:"90%",padding:"8px",border:"none",background:"#eee"}}),Object(l.b)("button",{className:"button button--primary",onClick:function(){o(n)},style:{width:"10%"}},"Load")),Object(l.b)(p,{source:c,mdxType:"Replay"}))},h=(a="Replay",{toc:p,Player:d});function m(e){var n=e.components,t=Object(c.a)(e,["components"]);return Object(l.b)("wrapper",Object(r.a)({},h,t,{components:n,mdxType:"MDXLayout"}),Object(l.b)("p",null,"Let's create your first channel! Make sure you have a ",Object(l.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/guide/client"}),"client")," set up so you can follow along with the examples below."),Object(l.b)("div",{className:"admonition admonition-info alert alert--info"},Object(l.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(l.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(l.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(l.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(l.b)("p",{parentName:"div"},"Channel creation is entirely self-service. iStreamPlanet will not stop or cleanup your channels. Every channel you create may incur billing charges, including the demo channel below. View your dashboard to see an overview of charges on your account."))),Object(l.b)("h2",{id:"choosing-a-source"},"Choosing a Source"),Object(l.b)("p",null,"Before creating a new channel, you ",Object(l.b)("em",{parentName:"p"},"must")," have a source to create it from. The source represents the incoming live video feed. First, get a list of sources that you have access to so that you can pick one:"),Object(l.b)(o.a,{groupId:"client",defaultValue:"cli",values:[{label:"CLI",value:"cli"},{label:"Javascript",value:"js"},{label:"Go",value:"go"}],mdxType:"Tabs"},Object(l.b)(s.a,{value:"cli",mdxType:"TabItem"},Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),'$ restish isp list-sources\n\nHTTP/2.0 200 OK\nContent-Encoding: br\nContent-Type: application/cbor\n\n[\n  {\n    id: "stn-abc123"\n    name: "iStreamPlanet Demo 1"\n    self: "https://api.istreamplanet.com/v2/sources/stn-abc123"\n  }\n  {\n    id: "stn-def456"\n    name: "iStreamPlanet Demo 2"\n    self: "https://api.istreamplanet.com/v2/sources/stn-def456"\n  }\n]\n'))),Object(l.b)(s.a,{value:"js",mdxType:"TabItem"},Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"// TODO\n"))),Object(l.b)(s.a,{value:"go",mdxType:"TabItem"},Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-go"}),'package main\n\nimport (\n    "context"\n    "fmt"\n\n    "github.com/istreamlabs/go-sdk/isp"\n)\n\nfunc main() {\n    // Create a new API client.\n    client := isp.NewWithClientCredentials(CLIENT_ID, CLIENT_SECRET, ORGANIZATION)\n\n    // Get a list of all source summaries. Pagination is handled via the\n    // `ListSourcesAll()` utility. For calls without pagination you can simply\n    // call the `Execute()` method on the request.\n    request := client.SourcesApi.ListSources(context.Background())\n    summaries, _, err := client.ListSourcesAll(request)\n    if err.Error() != "" {\n        panic(err)\n    }\n\n    // For each source, print out its ID and self link.\n    for _, s := range summaries {\n        fmt.Println(s.Id + " " + *s.Self)\n    }\n}\n')))),Object(l.b)("p",null,"Each returned source has an ",Object(l.b)("inlineCode",{parentName:"p"},"id")," field. Pick one and we will use it to create a new channel."),Object(l.b)("h2",{id:"creating-a-channel"},"Creating a Channel"),Object(l.b)("p",null,"Create a new channel with default settings by passing in your source at creation time. Here we assume that ",Object(l.b)("inlineCode",{parentName:"p"},"SOURCEID")," is the value picked above."),Object(l.b)(o.a,{groupId:"client",defaultValue:"cli",values:[{label:"CLI",value:"cli"},{label:"Javascript",value:"js"},{label:"Go",value:"go"}],mdxType:"Tabs"},Object(l.b)(s.a,{value:"cli",mdxType:"TabItem"},Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"$ restish isp create-channel source.id: $SOURCEID\n\nHTTP/2.0 201 Created\nDate: Wed, 23 Dec 2020 22:07:29 GMT\nLocation: /v2/channels/ch-abc123\n")),Object(l.b)("p",null,"Your channel will get created and immediately start encoding and publishing. You can use the ",Object(l.b)("inlineCode",{parentName:"p"},"Location")," header from the response to find out the encoding settings and playback URLs:"),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"$ restish api.istreamplanet.com/v2/channels/ch-abc123\n"))),Object(l.b)(s.a,{value:"js",mdxType:"TabItem"},Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"// TODO\n"))),Object(l.b)(s.a,{value:"go",mdxType:"TabItem"},Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-go"}),'// Create the request, setting up a basic channel with just a source ID.\nrequest := client.ChannelsApi.CreateChannel(context.Background())\nrequest.Channel(isp.Channel{\n  Source: isp.ChannelSource{\n    Id: "SOURCE_ID",\n  },\n})\n\n// Perform the request and check for errors.\nresp, err := request.Channel().Execute()\n\nif err.Error() != "" {\n  panic(err)\n}\n')),Object(l.b)("p",null,"Your channel will get created and immediately start encoding and publishing. You can use the ",Object(l.b)("inlineCode",{parentName:"p"},"Location")," header from the response to find out the encoding settings and playback URLs:"),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-go"}),'// Print out the URI for the new channel\'s details.\nfmt.Println(resp.Header.Get("Location"))\n')))),Object(l.b)("p",null,"Keep your playback URL handy for viewing the running channel."),Object(l.b)("h2",{id:"viewing-the-channel"},"Viewing the Channel"),Object(l.b)("p",null,"You can use a tool like ",Object(l.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.videolan.org/vlc/index.html"}),"VLC")," to view your video, or paste it into the embedded video player below:"),Object(l.b)(d,{mdxType:"Player"}),Object(l.b)("h2",{id:"customizing-channel-settings"},"Customizing Channel Settings"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"TODO")," This section isn't finished yet!"),Object(l.b)("h2",{id:"deleting-a-channel"},"Deleting a Channel"),Object(l.b)("p",null,"When finished, you can stop a channel from publishing by deleting it using either the channel's unique ID or the channel's location URI returned from creating the channel."),Object(l.b)(o.a,{groupId:"client",defaultValue:"cli",values:[{label:"CLI",value:"cli"},{label:"Javascript",value:"js"},{label:"Go",value:"go"}],mdxType:"Tabs"},Object(l.b)(s.a,{value:"cli",mdxType:"TabItem"},Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"# If you know the ID:\n$ restish isp delete-channel $CHANNELID\n\n# If you know the location:\n$ restish delete api.istreamplanet.com/v2/channels/...\n"))),Object(l.b)(s.a,{value:"js",mdxType:"TabItem"},Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"// TODO\n"))),Object(l.b)(s.a,{value:"go",mdxType:"TabItem"},Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-go"}),'// Delete the channel. Set your own CHANNEL_ID!\nrequest := client.ChannelsApi.DeleteChannel(context.Background(), "CHANNEL_ID")\n_, err = request.Execute()\n\nif err.Error() != "" {\n  panic(err)\n}\n')))),Object(l.b)("p",null,"This covers the most basic channel workflow. Read on to find out how to perform live channel operations in the next section."))}m.isMDXComponent=!0},92:function(e,n,t){"use strict";function a(e){var n,t,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=a(e[n]))&&(r&&(r+=" "),r+=t);else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}n.a=function(){for(var e,n,t=0,r="";t<arguments.length;)(e=arguments[t++])&&(n=a(e))&&(r&&(r+=" "),r+=n);return r}},93:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return h}));var a=t(0),r=t.n(a);function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=r.a.createContext({}),u=function(e){var n=r.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},b=function(e){var n=u(e.components);return r.a.createElement(s.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},d=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,c=e.originalType,i=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),b=u(t),d=a,h=b["".concat(i,".").concat(d)]||b[d]||p[d]||c;return t?r.a.createElement(h,l(l({ref:n},s),{},{components:t})):r.a.createElement(h,l({ref:n},s))}));function h(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var c=t.length,i=new Array(c);i[0]=d;var l={};for(var o in n)hasOwnProperty.call(n,o)&&(l[o]=n[o]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var s=2;s<c;s++)i[s]=t[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"}}]);